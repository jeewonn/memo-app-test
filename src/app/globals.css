@import 'tailwindcss';
@import '@uiw/react-md-editor/markdown-editor.css';

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* 마크다운 에디터 스타일 격리 - 전역 스타일 보호 */
.markdown-editor-wrapper,
.markdown-preview-wrapper {
  /* 마크다운 에디터가 전역 스타일에 영향을 주지 않도록 격리 */
  isolation: isolate;
}

/* 전역 스타일 보호 - 마크다운 에디터 CSS가 전역 요소에 영향을 주지 않도록 */
body input:not(.markdown-editor-wrapper input):not(.markdown-preview-wrapper input),
body button:not(.markdown-editor-wrapper button):not(.markdown-preview-wrapper button),
body textarea:not(.markdown-editor-wrapper textarea):not(.markdown-preview-wrapper textarea) {
  /* 기존 앱의 input, button, textarea 스타일 유지 */
  font-family: Arial, Helvetica, sans-serif;
}

/* 마크다운 프리뷰 리스트 스타일 복구 */
.markdown-preview-wrapper ul,
.markdown-preview-wrapper ol,
.markdown-preview-wrapper [data-color-mode] ul,
.markdown-preview-wrapper [data-color-mode] ol,
.markdown-preview-wrapper .wmde-markdown ul,
.markdown-preview-wrapper .wmde-markdown ol,
.markdown-preview-wrapper div ul,
.markdown-preview-wrapper div ol {
  margin: 1em 0 !important;
  padding-left: 2em !important;
  display: block !important;
}

.markdown-preview-wrapper ul,
.markdown-preview-wrapper [data-color-mode] ul,
.markdown-preview-wrapper .wmde-markdown ul,
.markdown-preview-wrapper div ul {
  list-style-type: disc !important;
  list-style-position: outside !important;
}

.markdown-preview-wrapper ol,
.markdown-preview-wrapper [data-color-mode] ol,
.markdown-preview-wrapper .wmde-markdown ol,
.markdown-preview-wrapper div ol {
  list-style-type: decimal !important;
  list-style-position: outside !important;
}

.markdown-preview-wrapper li,
.markdown-preview-wrapper [data-color-mode] li,
.markdown-preview-wrapper .wmde-markdown li,
.markdown-preview-wrapper div li {
  margin: 0.5em 0 !important;
  line-height: 1.6 !important;
  display: list-item !important;
}

/* 중첩 리스트 스타일 */
.markdown-preview-wrapper ul ul,
.markdown-preview-wrapper ol ol,
.markdown-preview-wrapper ul ol,
.markdown-preview-wrapper ol ul,
.markdown-preview-wrapper [data-color-mode] ul ul,
.markdown-preview-wrapper [data-color-mode] ol ol,
.markdown-preview-wrapper [data-color-mode] ul ol,
.markdown-preview-wrapper [data-color-mode] ol ul,
.markdown-preview-wrapper .wmde-markdown ul ul,
.markdown-preview-wrapper .wmde-markdown ol ol,
.markdown-preview-wrapper .wmde-markdown ul ol,
.markdown-preview-wrapper .wmde-markdown ol ul,
.markdown-preview-wrapper div ul ul,
.markdown-preview-wrapper div ol ol,
.markdown-preview-wrapper div ul ol,
.markdown-preview-wrapper div ol ul {
  margin-top: 0.5em !important;
  margin-bottom: 0.5em !important;
}

.markdown-preview-wrapper ul ul,
.markdown-preview-wrapper [data-color-mode] ul ul,
.markdown-preview-wrapper .wmde-markdown ul ul,
.markdown-preview-wrapper div ul ul {
  list-style-type: circle !important;
}

.markdown-preview-wrapper ul ul ul,
.markdown-preview-wrapper [data-color-mode] ul ul ul,
.markdown-preview-wrapper .wmde-markdown ul ul ul,
.markdown-preview-wrapper div ul ul ul {
  list-style-type: square !important;
}

/* Custom utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
